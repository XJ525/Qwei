(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Noticesend"],{2804:function(t,e,a){"use strict";a("feae")},"77dd":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"noticesend"},[a("div",{staticClass:"head"},[a("van-nav-bar",{attrs:{title:"发布新公告","left-text":"返回","left-arrow":""},on:{"click-left":function(e){return t.$router.replace("/")}}})],1),a("div",{staticClass:"noticeMain"},[a("div",{staticClass:"mainTitle"},[a("van-field",{attrs:{rows:"2",autosize:"",label:"公告标题",type:"textarea",maxlength:"50",placeholder:"请输入公告的标题","show-word-limit":""},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),a("div",[a("div",{staticClass:"texts"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.textareas,expression:"textareas"}],staticClass:"texta",attrs:{name:"texta",cols:"30",rows:"10",placeholder:"编辑公告内容"},domProps:{value:t.textareas},on:{input:function(e){e.target.composing||(t.textareas=e.target.value)}}}),a("p",{staticClass:"btn"},[a("van-button",{staticClass:"confirm",attrs:{type:"info"},on:{click:t.confirms}},[t._v("确认发布")]),a("van-button",{staticClass:"cancel",attrs:{type:"default"},on:{click:t.cancel}},[t._v("取消发布")])],1)])])])])},i=[],n={name:"Noticesned",data(){return{value:"",textareas:""}},mounted(){},methods:{cancel(){this.Dialog.confirm({title:"确定取消？",message:"取消发布将失去全部已编辑内容"}).then(()=>{this.$router.push("/")})},confirms(){this.Dialog.confirm({title:"确定发布？"}).then(()=>{""!=this.value.trim()?""!=this.textareas.trim()?this.textareas.length>100?this.Toast.fail("内容字符过长"):this.$axios.post({url:"notice/notice",data:{title:this.value,content:this.textareas}}).then(t=>{0==t.code?(this.Toast.success("成功发布"),this.$router.push("/")):(console.log(t.message),this.Toast.fail(t.message))}):this.Toast.fail("内容不能为空"):this.Toast.fail("标题不能为空")})}}},l=n,o=(a("2804"),a("2877")),c=Object(o["a"])(l,s,i,!1,null,"7e719ccb",null);e["default"]=c.exports},feae:function(t,e,a){}}]);
//# sourceMappingURL=Noticesend.b08c6260.js.map