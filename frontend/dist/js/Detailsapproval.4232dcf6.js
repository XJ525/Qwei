(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Detailsapproval"],{"1a3e":function(t,a,e){"use strict";e("a94a")},4518:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"detInfo"},[e("div",{staticClass:"head"},[e("van-nav-bar",{staticClass:"leavedfail",attrs:{title:"请假详情",fixed:"","left-text":"返回","left-arrow":""},on:{"click-left":t.backOn}})],1),e("div",{staticClass:"messageConters"},[e("div",{staticClass:"img"},[e("i",[e("img",{attrs:{src:t.data["user_head_url"],alt:"","v-lazy":t.data["user_head_url"]}})])]),e("div",{staticClass:"conter"},[e("div",{staticClass:"conterLeft"},[e("p",[e("span",{staticClass:"usernameStyle"},[t._v(" "+t._s(t.data.username)+" ")])]),e("p",{staticClass:"messageEnd"},[e("span",{staticClass:"messagetime"},[t._v(" "+t._s(t.data.apply_time)+" ")])])])])]),e("div",{staticClass:"mainConter"},[e("van-field",{style:{fontSize:"1rem"},attrs:{label:"请假类型",readonly:""},model:{value:t.type,callback:function(a){t.type=a},expression:"type"}}),e("van-field",{style:{fontSize:"1rem"},attrs:{type:"text",label:"开始时间",readonly:""},model:{value:t.starttime,callback:function(a){t.starttime=a},expression:"starttime"}}),e("van-field",{style:{fontSize:"1rem"},attrs:{type:"text",label:"结束时间",readonly:""},model:{value:t.endtime,callback:function(a){t.endtime=a},expression:"endtime"}}),e("van-field",{style:{fontSize:"1rem"},attrs:{type:"text",label:"审核状况",readonly:""},model:{value:t.statu,callback:function(a){t.statu=a},expression:"statu"}}),e("van-field",{style:{fontSize:"1rem"},attrs:{type:"textarea",label:"请假事由",readonly:"",autosize:"",rows:"1"},model:{value:t.text,callback:function(a){t.text=a},expression:"text"}})],1),"未审核"==t.statu?e("div",[e("van-button",{staticClass:"btn",attrs:{type:"info",block:""},on:{click:function(a){return t.opinion(t.data.leave_id,1)}}},[t._v("同意")]),e("van-button",{staticClass:"btn",attrs:{type:"info",block:""},on:{click:function(a){return t.opinion(t.data.leave_id,2)}}},[t._v("拒绝")])],1):t._e()])},i=[],l={name:"Detailsapproval",data(){return{data:"",type:"",starttime:"",endtime:"",text:"",statu:""}},mounted(){this.data=JSON.parse(localStorage.getItem("data")),localStorage.removeItem("data"),console.log(this.data),this.data.start_time=this.timestampToTime(this.data.start_time),this.data.end_time=this.timestampToTime(this.data.end_time),this.type=this.data.apply_type,this.starttime=this.data.start_time,this.endtime=this.data.end_time,this.text=this.data.leave_reason,0==this.data.audit_state?this.statu="未审核":1==this.data.audit_state?this.statu="通过":2==this.data.audit_state&&(this.statu="未通过")},methods:{timestampToTime(t){let a=new Date(t),e=a.getFullYear()+"-",s=(a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1)+"-",i=(a.getDate()+1<10?"0"+a.getDate():a.getDate())+" ";return e+s+i},backOn(){this.$router.push("/allapproval")},opinion(t,a){this.$axios.post({url:"/leave/agreeleave",data:{leaveid:t,state:a}}).then(t=>{t&&t.code,this.$toast("审核完毕"),this.$router.push({path:"/allapproval"})})}}},n=l,o=(e("1a3e"),e("2877")),r=Object(o["a"])(n,s,i,!1,null,"498f5662",null);a["default"]=r.exports},a94a:function(t,a,e){}}]);
//# sourceMappingURL=Detailsapproval.4232dcf6.js.map