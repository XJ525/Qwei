{"version":3,"sources":["webpack:///./src/views/myshow/UpPsd.vue?29ad","webpack:///./src/views/myshow/UpPsd.vue?8d9b","webpack:///src/views/myshow/UpPsd.vue","webpack:///./src/views/myshow/UpPsd.vue?c68c","webpack:///./src/views/myshow/UpPsd.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","onClickLeft","model","value","callback","$$v","password","expression","newpassword","verifypassword","uppassword","_v","staticRenderFns","methods","$router","push","path","$axios","Toast","message","position","component"],"mappings":"yGAAA,W,oECAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,cAAc,CAACE,YAAY,OAAOC,MAAM,CAAC,MAAQ,OAAO,YAAY,KAAK,aAAa,IAAIC,GAAG,CAAC,aAAaR,EAAIS,eAAeL,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,YAAY,CAACE,YAAY,WAAWC,MAAM,CAAC,KAAO,WAAW,YAAc,UAAU,MAAQ,QAAQG,MAAM,CAACC,MAAOX,EAAY,SAAEY,SAAS,SAAUC,GAAMb,EAAIc,SAASD,GAAKE,WAAW,cAAcX,EAAG,YAAY,CAACE,YAAY,WAAWC,MAAM,CAAC,KAAO,WAAW,YAAc,WAAW,MAAQ,OAAOG,MAAM,CAACC,MAAOX,EAAe,YAAEY,SAAS,SAAUC,GAAMb,EAAIgB,YAAYH,GAAKE,WAAW,iBAAiBX,EAAG,YAAY,CAACE,YAAY,WAAWC,MAAM,CAAC,KAAO,WAAW,YAAc,WAAW,MAAQ,QAAQG,MAAM,CAACC,MAAOX,EAAkB,eAAEY,SAAS,SAAUC,GAAMb,EAAIiB,eAAeJ,GAAKE,WAAW,oBAAqC,IAAhBf,EAAIc,UAAqC,IAAnBd,EAAIgB,aAA2C,IAAtBhB,EAAIiB,eAAsBb,EAAG,aAAa,CAACE,YAAY,MAAMC,MAAM,CAAC,KAAO,QAAQC,GAAG,CAAC,MAAQR,EAAIkB,aAAa,CAAClB,EAAImB,GAAG,UAAUf,EAAG,aAAa,CAACE,YAAY,MAAMC,MAAM,CAAC,SAAW,GAAG,KAAO,SAAS,CAACP,EAAImB,GAAG,WAAW,IAAI,IACjqCC,EAAkB,GCmCtB,GACE,OACE,MAAO,CACLN,SAAU,GACVE,YAAa,GACbC,eAAgB,KAGpBI,QAAS,CACP,cACEpB,KAAKqB,QAAQC,KAAK,CAChBC,KAAM,aAGV,aAEMvB,KAAKa,UAAYb,KAAKe,YAOtBf,KAAKe,aAAef,KAAKgB,eAO7BhB,KAAKwB,OACX,MACQ,IAAR,YACQ,KAAR,CACU,QAAV,cACU,QAAV,oBAGA,SACA,WAOU,KAAV,eACY,QAAZ,iBACY,aAAZ,EACY,SAAZ,IAGU,WAAV,KACY,aAAZ,oBACY,KAAZ,cACc,KAAd,YAEA,MACA,aAEU,KAAV,OACY,QAAZ,QACY,SAAZ,WAEA,eAEU,KAAV,cACY,KAAZ,WAEU,KAAV,eACY,QAAZ,kBACY,aAAZ,EACY,SAAZ,KAIU,KAAV,qBApDQxB,KAAKyB,MAAM,CACTC,QAAS,SACTC,SAAU,WATZ3B,KAAKyB,MAAM,CACTC,QAAS,cACTC,SAAU,cCvD0U,I,wBCQ1VC,EAAY,eACd,EACA9B,EACAqB,GACA,EACA,KACA,WACA,MAIa,aAAAS,E","file":"js/UpPsd.0f904b8b.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpPsd.vue?vue&type=style&index=0&id=3a996141&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"uppasd\"},[_c('van-nav-bar',{staticClass:\"head\",attrs:{\"title\":\"修改密码\",\"left-text\":\"返回\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.onClickLeft}}),_c('div',{staticClass:\"box\"},[_c('van-field',{staticClass:\"pasinput\",attrs:{\"type\":\"password\",\"placeholder\":\"请输入当前密码\",\"label\":\"当前密码\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('van-field',{staticClass:\"pasinput\",attrs:{\"type\":\"password\",\"placeholder\":\"请输入新密码密码\",\"label\":\"新密码\"},model:{value:(_vm.newpassword),callback:function ($$v) {_vm.newpassword=$$v},expression:\"newpassword\"}}),_c('van-field',{staticClass:\"pasinput\",attrs:{\"type\":\"password\",\"placeholder\":\"请输入新密码密码\",\"label\":\"确认密码\"},model:{value:(_vm.verifypassword),callback:function ($$v) {_vm.verifypassword=$$v},expression:\"verifypassword\"}}),(_vm.password != '' && _vm.newpassword != '' && _vm.verifypassword != '')?_c('van-button',{staticClass:\"btn\",attrs:{\"type\":\"info\"},on:{\"click\":_vm.uppassword}},[_vm._v(\"修改密码\")]):_c('van-button',{staticClass:\"btn\",attrs:{\"disabled\":\"\",\"type\":\"info\"}},[_vm._v(\"修改密码\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"uppasd\">\n    <van-nav-bar title=\"修改密码\"\n                 left-text=\"返回\"\n                 left-arrow\n                 class=\"head\"\n                 @click-left=\"onClickLeft\" />\n    <div class=\"box\">\n      <van-field v-model=\"password\"\n                 type=\"password\"\n                 class=\"pasinput\"\n                 placeholder=\"请输入当前密码\"\n                 label=\"当前密码\" />\n      <van-field v-model=\"newpassword\"\n                 type=\"password\"\n                 class=\"pasinput\"\n                 placeholder=\"请输入新密码密码\"\n                 label=\"新密码\" />\n      <van-field v-model=\"verifypassword\"\n                 type=\"password\"\n                 class=\"pasinput\"\n                 placeholder=\"请输入新密码密码\"\n                 label=\"确认密码\" />\n      <van-button v-if=\"password != '' && newpassword != '' && verifypassword != ''\"\n                  @click=\"uppassword\"\n                  class=\"btn\"\n                  type=\"info\">修改密码</van-button>\n      <van-button v-else\n                  class=\"btn\"\n                  disabled\n                  type=\"info\">修改密码</van-button>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      password: \"\",\n      newpassword: \"\",\n      verifypassword: \"\",\n    };\n  },\n  methods: {\n    onClickLeft () {\n      this.$router.push({\n        path: \"/myshow\",\n      });\n    },\n    uppassword () {\n      //判断原密码是否与新密码一致\n      if (this.password == this.newpassword) {\n        this.Toast({\n          message: \"新密码不能与原密码一致\",\n          position: \"bottom\",\n        });\n        return;\n      }\n      if (this.newpassword != this.verifypassword) {\n        this.Toast({\n          message: \"新密码不一致\",\n          position: \"bottom\",\n        });\n        return;\n      }\n      this.$axios\n        .post({\n          url: \"/user/psd\",\n          data: {\n            oldpasd: this.password,\n            newpasd: this.newpassword,\n          },\n        })\n        .then((res) => {\n          if (res.code == 0) {\n            //修改成功\n\n\n\n            // this.Toast.success(\"修改成功\");\n\n            this.Toast.loading({\n              message: \"密码已修改，请重新登陆...\",\n              forbidClick: true,\n              duration: 0,\n            });\n\n            setTimeout(() => {\n              localStorage.removeItem(\"token\");\n              this.$router.push({\n                path: \"/login\",\n              });\n            }, 2000);\n          } else if (res.code == \"-2\") {\n            //原密码错误\n            this.Toast({\n              message: \"原密码错误\",\n              position: \"bottom\",\n            });\n          } else if (res.code == \"-11\") {\n            //挤出\n            this.$router.push({\n              path: \"/login\",\n            });\n            this.Toast.loading({\n              message: \"检测到您的账号在异地登陆...\",\n              forbidClick: true,\n              duration: 0,\n            });\n          } else {\n            //修改失败\n            this.Toast.fail(\"修改失败\");\n          }\n        });\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.head {\n  padding: 0.4rem;\n}\n\n.box {\n  margin: 0 auto;\n  width: 85%;\n\n  .pasinput {\n    font-size: 1rem;\n    padding-top: 1rem;\n  }\n\n  .btn {\n    width: 100%;\n    margin-top: 3rem;\n    border-radius: 4rem;\n  }\n}\n\n/deep/ .van-icon-arrow-left {\n  color: #000;\n  font-size: 1rem;\n}\n</style>\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpPsd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpPsd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UpPsd.vue?vue&type=template&id=3a996141&scoped=true&\"\nimport script from \"./UpPsd.vue?vue&type=script&lang=js&\"\nexport * from \"./UpPsd.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UpPsd.vue?vue&type=style&index=0&id=3a996141&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3a996141\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}