{"version":3,"sources":["webpack:///./src/views/maillist/Maillist.vue?ee9c","webpack:///src/views/maillist/Maillist.vue","webpack:///./src/views/maillist/Maillist.vue?9ca2","webpack:///./src/views/maillist/Maillist.vue","webpack:///./src/views/maillist/Maillist.vue?5d9b"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","scopedSlots","_u","key","fn","on","querys","proxy","_l","item","index","_v","_s","once","username","$event","seeMsg","style","height","model","value","callback","$$v","showQuery","expression","queryClick","sms","staticRenderFns","component"],"mappings":"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","file":"js/Maillist.668537d9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"maillist\"},[_c('div',{staticClass:\"head\"},[_c('van-nav-bar',{attrs:{\"title\":\"联系人\",\"left-text\":\"返回\",\"left-arrow\":\"\"},scopedSlots:_vm._u([{key:\"right\",fn:function(){return [_c('van-icon',{attrs:{\"name\":\"search\",\"size\":\"18\"},on:{\"click\":_vm.querys}})]},proxy:true}])})],1),(_vm.everyoneArr)?_c('div',{staticClass:\"main\"},_vm._l((_vm.everyoneArr),function(item,index){return _c('van-index-anchor',{key:index,attrs:{\"index\":\"1\"}},[_vm._v(\" \"+_vm._s(index)+\" \"),_vm._l((item),function(once,key){return _c('van-cell',{key:key,attrs:{\"title\":once.username},on:{\"click\":function($event){return _vm.seeMsg(once['user_id'])}}},[_c('div',{staticClass:\"everyOneMsg\"},[_c('p',{staticClass:\"userName\"},[_vm._v(\" > \")])])])})],2)}),1):_c('div',{staticClass:\"load\"},[_c('van-loading',{attrs:{\"size\":\"24px\"}},[_vm._v(\"加载中...\")])],1),_c('van-popup',{style:({ height: '7%' }),attrs:{\"position\":\"top\"},model:{value:(_vm.showQuery),callback:function ($$v) {_vm.showQuery=$$v},expression:\"showQuery\"}},[_c('div',{staticClass:\"querysClick\"},[_c('van-field',{style:({ height: '100%' }),attrs:{\"center\":\"\",\"clearable\":\"\",\"placeholder\":\"请输入用户名或部门\"},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [_c('van-button',{staticClass:\"btn\",attrs:{\"plain\":\"\",\"type\":\"info\"},on:{\"click\":_vm.queryClick}},[_vm._v(\"确认搜索\")])]},proxy:true}]),model:{value:(_vm.sms),callback:function ($$v) {_vm.sms=$$v},expression:\"sms\"}})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n    <div class=\"maillist\">\n        <div class=\"head\">\n            <van-nav-bar title=\"联系人\" left-text=\"返回\" left-arrow>\n                <template #right>\n                    <van-icon name=\"search\" size=\"18\" @click=\"querys\" />\n                </template>\n            </van-nav-bar>\n        </div>\n\n        <div class=\"main\" v-if=\"everyoneArr\">\n            <!-- <van-index-bar :index-list=\"indexList\"> -->\n\n                <van-index-anchor v-for=\"(item, index) in everyoneArr\" :key=\"index\" index=\"1\">\n                    {{ index }}\n                    <van-cell  v-for=\"(once, key) in item\" :key=\"key\" :title = once.username @click=\"seeMsg(once['user_id'])\" >\n                        <div class=\"everyOneMsg\">\n                            <p class=\"userName\">\n                                &gt;\n                            </p>\n\n                        </div>\n                        \n                    \n                    </van-cell>\n                </van-index-anchor>\n            <!-- </van-index-bar> -->\n                \n        </div>\n\n        <div class=\"load\" v-else>\n            <van-loading size=\"24px\">加载中...</van-loading>\n        </div>\n\n        <van-popup v-model=\"showQuery\" position=\"top\" :style=\"{ height: '7%' }\">\n\n            <div class=\"querysClick\">\n                <van-field\n                v-model=\"sms\"\n                center\n                clearable\n                placeholder=\"请输入用户名或部门\"\n                :style=\"{ height: '100%' }\"\n                >\n                <template #button>\n                    <van-button plain type=\"info\" class=\"btn\" @click=\"queryClick\">确认搜索</van-button>\n                </template>\n                </van-field>\n            </div>\n\n        </van-popup>\n\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'Maillist',\n    data() {\n        return {\n            indexList: [],\n            everyoneArr: {},\n            sms: '',\n            showQuery: false,\n        }\n    },\n\n    mounted () {\n        this.rander()\n    },\n\n    methods: {\n        //渲染\n        rander() {\n            this.Toast.loading({\n                message: \"\",\n                forbidClick: true,\n                duration: 10000\n            });\n            this.$axios.get({\n                url: 'message/maillist'\n            }).then(\n                res => {\n                    if (res && res.code == 0) {\n\n                        this.handleData(res)\n\n                    }\n\n                    \n                    this.Toast.clear();\n\n                }\n            )\n        },\n\n        //搜索栏\n        querys() {\n            this.showQuery = true;\n        },\n\n        //模糊搜索\n        queryClick () {\n            let sms = this.sms.trim();\n            if (sms == '') {\n                return '搜索信息不能为空'\n            }\n\n            this.$axios.post({\n                url: 'message/querylist',\n                data: {\n                    msg: sms\n                }\n            }).then(\n                res => {\n                    if (res.code == 0) {\n                        let dataArr = {}\n                        for (let x = 0; x < res.data.length; x++) {\n                            if (dataArr[res.data[x].name] != undefined) {\n                                dataArr[res.data[x].name].push(res.data[x])\n                            } else {\n                                dataArr[res.data[x].name] = [];\n                                dataArr[res.data[x].name].push(res.data[x])\n                            }\n                        }\n                        this.everyoneArr = dataArr\n                        this.sms = '';\n                        this.showQuery = false;\n                    } else {\n                        this.Toast(res.message);\n                        this.sms = '';\n                        this.showQuery = false;\n                    }\n\n                }\n            )\n\n        },\n\n        //查看用户详细信息\n        seeMsg(msgId) {\n\n            this.$router.push(`/maillist/seemaillist?msgId=${msgId}`)\n        },\n\n        //处理数据\n        handleData ({ dataArr, listArr }) {\n            let allData = {};\n            for (let x = 0; x < listArr.length; x++) {\n                allData[listArr[x]['name']] = [];\n\n                for (let i = 0; i < dataArr.length; i++) {\n                    if (listArr[x]['department_id'] == dataArr[i]['department_id']) {\n                        allData[listArr[x]['name']].push(dataArr[i])\n                    }\n                }\n            }\n            this.everyoneArr = allData;\n        }\n\n    }\n\n}\n</script>\n\n<style lang=\"less\" >\n\n.maillist {\n    background-color: #f8f9fa;\n\n    \n}\n\n.load {\n    margin: 5rem auto;\n    width: 25%;\n\n}\n\n.querysClick {\n    margin: 2% auto;\n    width: 80%;\n    height: 70%;\n    border: 1px solid #999;\n    border-radius: 1.5rem;\n    overflow: hidden;\n    .btn {\n        border: none;\n        border-left: 1px solid #999;\n        span {\n            color: #777;\n\n        }\n    }\n}\n\n.everyOneMsg {\n    display: flex;\n    .headImg {\n        flex: 2;\n        text-align: center;\n    }\n\n    p {\n        display: block;\n        margin-block-start: 0;\n        margin-block-end: 0;\n        margin-inline-start: 0px;\n        margin-inline-end: 0px;\n    }\n\n    .userName {\n        flex: 8;\n        font-size: 1.2rem;\n        color: #dedede;\n    }\n}\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Maillist.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Maillist.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Maillist.vue?vue&type=template&id=803ed230&\"\nimport script from \"./Maillist.vue?vue&type=script&lang=js&\"\nexport * from \"./Maillist.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Maillist.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Maillist.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}