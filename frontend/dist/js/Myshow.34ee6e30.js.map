{"version":3,"sources":["webpack:///./src/views/myshow/Myshow.vue?1ba9","webpack:///./src/views/myshow/Myshow.vue?c840","webpack:///src/views/myshow/Myshow.vue","webpack:///./src/views/myshow/Myshow.vue?22c8","webpack:///./src/views/myshow/Myshow.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","expression","_v","_s","username","attrs","on","tomsg","showPopup","style","height","model","callback","$$v","show","logout","staticStyle","off","staticRenderFns","components","Nav","fileList","imgsrc","methods","Toast","loading","message","forbidClick","duration","$router","push","path","$axios","component"],"mappings":"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","file":"js/Myshow.34ee6e30.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Myshow.vue?vue&type=style&index=0&id=69d9d942&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"myshow\"},[_c('Nav'),_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"top_img\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.imgsrc),expression:\"imgsrc\"}]})]),_c('div',{staticClass:\"info\"},[_c('h2',[_vm._v(_vm._s(_vm.username))]),_c('p',[_vm._v(_vm._s(_vm.name))])]),_c('div',{staticClass:\"icos\"},[_c('van-icon',{staticClass:\"rig_ico\",attrs:{\"name\":\"arrow\",\"size\":\"20\"},on:{\"click\":_vm.tomsg}})],1)]),_c('div',{staticClass:\"card\"},[_c('van-cell-group',{staticClass:\"grid\",attrs:{\"inset\":\"\"}},[_c('router-link',{attrs:{\"to\":\"/myshow/feedback\"}},[_c('van-cell',{staticClass:\"griding\"},[_c('van-icon',{staticClass:\"ico back\",attrs:{\"size\":\"22\",\"name\":\"smile-comment\"}}),_c('p',[_vm._v(\"意见反馈\")])],1)],1),_c('router-link',{attrs:{\"to\":\"/myshow/uppsd\"}},[_c('van-cell',{staticClass:\"griding\"},[_c('van-icon',{staticClass:\"ico alt\",attrs:{\"size\":\"22\",\"name\":\"lock\"}}),_c('p',[_vm._v(\"修改密码\")])],1)],1)],1),_c('van-cell-group',{staticClass:\"grid\",attrs:{\"inset\":\"\"}},[_c('router-link',{attrs:{\"to\":\"/myshow/faces\"}},[_c('van-cell',{staticClass:\"griding\"},[_c('van-icon',{staticClass:\"ico face\",attrs:{\"size\":\"22\",\"name\":\"smile\"}}),_c('p',[_vm._v(\"人脸采集\")])],1)],1),_c('van-cell',{staticClass:\"griding\",on:{\"click\":_vm.showPopup}},[_c('van-icon',{staticClass:\"ico out\",attrs:{\"size\":\"22\",\"name\":\"setting\"}}),_c('p',[_vm._v(\"退出登录\")])],1)],1),_c('van-popup',{style:({ height: '25%' }),attrs:{\"position\":\"bottom\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('van-cell-group',{attrs:{\"title\":\" \"},on:{\"click\":_vm.logout}},[_c('van-cell',{staticClass:\"pop outstyle\",attrs:{\"center\":true,\"input-align\":\"center\"}},[_c('p',{staticClass:\"outlogin\",staticStyle:{\"text-align\":\"center\",\"color\":\"red\",\"font-size\":\"1.2rem\"}},[_vm._v(\" 退出 \")])])],1),_c('van-cell-group',{attrs:{\"title\":\" \",\"input-align\":\"center\"},on:{\"click\":_vm.off}},[_c('van-cell',{staticClass:\"pop outstyle\"},[_c('p',{staticStyle:{\"text-align\":\"center\"}},[_vm._v(\"取消\")])])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"myshow\">\n    <Nav></Nav>\n\n    <div class=\"header\">\n      <div class=\"top_img\">\n        <img v-lazy=\"imgsrc\" />\n      </div>\n      <div class=\"info\">\n        <h2>{{ username }}</h2>\n        <p>{{ name }}</p>\n      </div>\n      <div class=\"icos\">\n        <van-icon name=\"arrow\"\n                  class=\"rig_ico\"\n                  size=\"20\"\n                  @click=\"tomsg\" />\n      </div>\n    </div>\n    <div class=\"card\">\n      <!-- 第一组 -->\n      <van-cell-group inset\n                      class=\"grid\">\n        <router-link to=\"/myshow/feedback\">\n          <van-cell class=\"griding\">\n            <van-icon class=\"ico back\"\n                      size=\"22\"\n                      name=\"smile-comment\" />\n            <p>意见反馈</p>\n          </van-cell>\n        </router-link>\n\n        <router-link to=\"/myshow/uppsd\">\n          <van-cell class=\"griding\">\n            <van-icon class=\"ico alt\"\n                      size=\"22\"\n                      name=\"lock\" />\n            <p>修改密码</p>\n          </van-cell>\n        </router-link>\n      </van-cell-group>\n      <!-- 第二组 -->\n      <van-cell-group inset\n                      class=\"grid\">\n        <router-link to=\"/myshow/faces\">\n          <van-cell class=\"griding\">\n            <van-icon class=\"ico face\"\n                      size=\"22\"\n                      name=\"smile\" />\n            <p>人脸采集</p>\n          </van-cell>\n        </router-link>\n\n        <van-cell @click=\"showPopup\"\n                  class=\"griding\">\n          <van-icon class=\"ico out\"\n                    size=\"22\"\n                    name=\"setting\" />\n          <p>退出登录</p>\n        </van-cell>\n      </van-cell-group>\n\n      <!-- 退出登录确认框 -->\n      <van-popup v-model=\"show\"\n                 position=\"bottom\"\n                 :style=\"{ height: '25%' }\">\n        <van-cell-group @click=\"logout\"\n                        title=\" \">\n          <van-cell class=\"pop outstyle\"\n                    :center=\"true\"\n                    input-align=\"center\">\n            <p class=\"outlogin\"\n               style=\"text-align: center; color: red; font-size: 1.2rem\">\n              退出\n            </p>\n          </van-cell>\n        </van-cell-group>\n        <van-cell-group @click=\"off\"\n                        title=\" \"\n                        input-align=\"center\">\n          <van-cell class=\"pop outstyle\">\n            <p style=\"text-align: center\">取消</p>\n          </van-cell>\n        </van-cell-group>\n      </van-popup>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Nav from \"../../components/nav/Nav.vue\";\n\nexport default {\n  name: \"Myshow\",\n  components: {\n    Nav,\n  },\n  data () {\n    return {\n      username: \"\",\n      name: \"\",\n      fileList: [],\n      imgsrc: \"\",\n      show: false,\n    };\n  },\n  methods: {\n    tomsg () {\n      //跳个人信息页\n      this.Toast.loading({\n        message: '加载中...',\n        forbidClick: true,\n        duration: 0\n      });\n      this.$router.push({\n        path: \"/myshow/msg\",\n      });\n    },\n    showPopup () {\n      //退出登录弹出层\n      this.show = true;\n    },\n    logout () {\n      //确认退出登录\n      this.Toast.loading({\n        message: \"退出中...\",\n        forbidClick: true,\n      });\n\n      this.$axios\n        .get({\n          url: \"user/logout\",\n        }).then(res => {\n          if (res && res.code == '12') {\n            localStorage.removeItem(\"token\");\n            this.$router.push({\n              path: \"/login\",\n            });\n            this.Toast.clear();\n          } else {\n            this.Toast.fail('退出失败')\n          }\n        })\n\n\n\n\n    },\n    off () {\n      //取消退出登录\n      this.show = false;\n    },\n  },\n  mounted () {\n    //\n    this.$axios\n      .get({\n        url: \"/user/mymessage\",\n      })\n      .then((res) => {\n        // console.log(res);\n        if (res.code == \"1\") {\n          this.username = res.message.username;\n          this.name = res.message.name;\n          this.job = res.message.job_name;\n\n           let user_head_url = res.message.user_head_url ? res.message.user_head_url : 'head.png'\n          this.imgsrc =\n            require('../../config').baseURL + \"/imgs/temporary/\" + user_head_url;\n          // if (res.message.user_head_url) {\n          //   this.imgsrc =\n          //     \"http://localhost:3000/imgs/temporary/\" +\n          //     res.message.user_head_url;\n          // } else {\n          //   this.imgsrc = \"../../assets/img/header.png\";\n          // }\n\n          // console.log(this.imgsrc)\n          //请求成功\n        } else if (res.code == \"-6\") {\n          this.Toast.fail(\"未查询到该用户的信息\");\n          //未请求到数据，该用户不存在\n          return;\n        } else if (res.code == \"-2\") {\n          this.Toast.fail(\"未获取到数据,请重试\");\n          //请求失败\n          return;\n        } else if (res.code == \"-500\") {\n          //挤出登录\n          // localStorage.removeItem('token');\n          //  this.Toast.loading({\n          //   message: \"检测到您的账号在异地登录，如不是您本人操作，请尽快修改密码或冻结账户...\",\n          //   forbidClick: true,\n          //   duration: 5000,\n          // });\n          // this.$router.push({\n          //     path: \"/login\",\n          // });\n          // this.Toast.clear();\n          return;\n        }\n      });\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n@import url(\"../../style/common.less\");\n\n.header {\n  padding: 10vh 0 5vh 0.5rem;\n  width: 90%;\n  margin: 0 auto;\n  overflow: hidden;\n  .top_img {\n    width: 70px;\n    height: 70px;\n    // background-color: #c8c9cc;\n    float: left;\n    img {\n      width: 100%;\n      height: 100%;\n    }\n    // border-radius: 5rem;\n    // border: chocolate 1px solid;\n    & > .van-uploader__preview {\n      display: block;\n      width: 100%;\n      height: 100%;\n    }\n  }\n  .rig_ico {\n    color: #adb5bd;\n  }\n\n  .info {\n    float: left;\n    padding-left: 1.5rem;\n    p {\n      padding-top: 0.5rem;\n      color: #888;\n    }\n  }\n  .outlogin {\n    text-align: center;\n    color: red;\n    font-size: 1.2rem;\n  }\n  .icos {\n    float: right;\n    line-height: 9vh;\n  }\n  .cellcon {\n    width: 90%;\n    margin: 1rem auto;\n  }\n}\n\n.card {\n  width: 90%;\n  margin: 1rem auto;\n  .back {\n    color: #6b9ac4;\n  }\n  .alt {\n    color: #b0d0d3;\n  }\n  .face {\n    color: #97d8c4;\n  }\n  .out {\n    color: #64b5f6;\n  }\n  .grid {\n    margin-top: 2rem;\n    .griding {\n      padding: 1rem;\n      background-color: #eaeaea;\n      // background-color: #dee2e6;\n      font-size: 1rem;\n      font-weight: bolder;\n      .ico {\n        float: left;\n      }\n      p {\n        float: left;\n        padding-left: 1rem;\n        color: #6c757d;\n      }\n      .pop {\n        display: block;\n        width: 100%;\n        margin: 2rem 0 0.2rem 0;\n        text-align: center;\n        background-color: #1989fa;\n        padding: 1rem;\n\n        p {\n          font-size: 2rem;\n        }\n      }\n    }\n  }\n  .outstyle {\n    padding: 1rem;\n    text-align: center;\n  }\n}\n</style>\n\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Myshow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Myshow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Myshow.vue?vue&type=template&id=69d9d942&scoped=true&\"\nimport script from \"./Myshow.vue?vue&type=script&lang=js&\"\nexport * from \"./Myshow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Myshow.vue?vue&type=style&index=0&id=69d9d942&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"69d9d942\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}