(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["UpPsd"],{"03ce":function(s,t,a){"use strict";a("7e06")},"7e06":function(s,t,a){},"9b8b":function(s,t,a){"use strict";a.r(t);var o=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"uppasd"},[a("van-nav-bar",{staticClass:"head",attrs:{title:"修改密码","left-text":"返回","left-arrow":""},on:{"click-left":s.onClickLeft}}),a("div",{staticClass:"box"},[a("van-field",{staticClass:"pasinput",attrs:{type:"password",placeholder:"请输入当前密码",label:"当前密码"},model:{value:s.password,callback:function(t){s.password=t},expression:"password"}}),a("van-field",{staticClass:"pasinput",attrs:{type:"password",placeholder:"请输入新密码密码",label:"新密码"},model:{value:s.newpassword,callback:function(t){s.newpassword=t},expression:"newpassword"}}),a("van-field",{staticClass:"pasinput",attrs:{type:"password",placeholder:"请输入新密码密码",label:"确认密码"},model:{value:s.verifypassword,callback:function(t){s.verifypassword=t},expression:"verifypassword"}}),""!=s.password&&""!=s.newpassword&&""!=s.verifypassword?a("van-button",{staticClass:"btn",attrs:{type:"info"},on:{click:s.uppassword}},[s._v("修改密码")]):a("van-button",{staticClass:"btn",attrs:{disabled:"",type:"info"}},[s._v("修改密码")])],1)],1)},e=[],i={data(){return{password:"",newpassword:"",verifypassword:""}},methods:{onClickLeft(){this.$router.push({path:"/myshow"})},uppassword(){this.password!=this.newpassword?this.newpassword==this.verifypassword?this.$axios.post({url:"/user/psd",data:{oldpasd:this.password,newpasd:this.newpassword}}).then(s=>{0==s.code?(this.Toast.loading({message:"密码已修改，请重新登陆...",forbidClick:!0,duration:0}),setTimeout(()=>{localStorage.removeItem("token"),this.$router.push({path:"/login"})},2e3)):"-2"==s.code?this.Toast({message:"原密码错误",position:"bottom"}):"-11"==s.code?(this.$router.push({path:"/login"}),this.Toast.loading({message:"检测到您的账号在异地登陆...",forbidClick:!0,duration:0})):this.Toast.fail("修改失败")}):this.Toast({message:"新密码不一致",position:"bottom"}):this.Toast({message:"新密码不能与原密码一致",position:"bottom"})}}},r=i,p=(a("03ce"),a("2877")),n=Object(p["a"])(r,o,e,!1,null,"3a996141",null);t["default"]=n.exports}}]);
//# sourceMappingURL=UpPsd.0f904b8b.js.map