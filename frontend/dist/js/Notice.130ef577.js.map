{"version":3,"sources":["webpack:///./src/views/notice/Notice.vue?fc50","webpack:///./src/views/notice/Notice.vue?9faa","webpack:///src/views/notice/Notice.vue","webpack:///./src/views/notice/Notice.vue?895f","webpack:///./src/views/notice/Notice.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","$event","$router","replace","noticeAll","length","_v","_s","newNotice","_e","style","color","borderColor","padding","finished","onLoad","model","value","callback","$$v","loading","expression","_l","item","index","key","cutNotice","staticRenderFns","component"],"mappings":"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","file":"js/Notice.130ef577.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Notice.vue?vue&type=style&index=0&id=09986899&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"notice\"},[_c('div',{staticClass:\"head\"},[_c('van-nav-bar',{staticClass:\"titlenotice\",attrs:{\"title\":\"公告栏\",\"left-text\":\"返回\",\"left-arrow\":\"\",\"fixed\":\"\"},on:{\"click-left\":function($event){return _vm.$router.replace('/')}}})],1),_c('div',{staticClass:\"main\"},[(_vm.noticeAll.length > 0)?_c('div',{staticClass:\"nowNotice\"},[_c('div',[_c('h4',{staticClass:\"noticeTitle\"},[_vm._v(\" \"+_vm._s(_vm.newNotice['title'])+\" \")])]),_c('div',[_c('p',{staticClass:\"nowContent\"},[_vm._v(\" \"+_vm._s(_vm.newNotice['connent'])+\" \")]),_c('div',{staticClass:\"noticeMsg\"},[_c('p',{staticClass:\"nowTime\"},[_vm._v(\" \"+_vm._s(_vm.newNotice['create_time'])+\" \")]),_c('p',{staticClass:\"nowPeop\"},[_vm._v(\" 发布人：\"),_c('span',[_vm._v(\" \"+_vm._s(_vm.newNotice['username'])+\" \")])])])])]):_vm._e(),_c('div',[_c('van-divider',{style:({ color: '#1989fa', borderColor: '#1989fa', padding: '0 16px' })},[_vm._v(\" 以往公告 \")])],1),_c('div',{staticClass:\"mainNoticeAll\"},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"到底啦\"},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.noticeAll),function(item,index){return _c('div',{key:index,staticClass:\"oldNotice\",on:{\"click\":function($event){return _vm.cutNotice(item)}}},[_c('van-cell-group',{attrs:{\"inset\":\"\"}},[_c('van-cell',{attrs:{\"title\":(\" \" + (_vm.noticeAll[index]['title'])),\"label\":(\"\" + (_vm.noticeAll[index]['connent']))}},[_c('span',{staticClass:\"userRelease\"},[_vm._v(\" \"+_vm._s(_vm.noticeAll[index]['username'])+\" 发布于 \")]),_c('span',{staticClass:\"tineRelease\"},[_vm._v(\" \"+_vm._s(_vm.noticeAll[index]['create_time'])+\" \")])])],1)],1)}),0)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"notice\">\n        <div class=\"head\">\n            <van-nav-bar title=\"公告栏\"\n                        left-text=\"返回\"\n                        left-arrow\n                        fixed\n                        class=\"titlenotice\"\n                        @click-left=\"$router.replace('/')\">\n            </van-nav-bar>\n        </div>\n\n        <div class=\"main\">\n\n            <div class=\"nowNotice\" v-if=\"noticeAll.length > 0\">\n                <div>\n                    <h4 class=\"noticeTitle\">\n                        {{ newNotice['title'] }}\n                    </h4>\n                </div>\n                <div>\n                    <p class=\"nowContent\">\n                        {{ newNotice['connent'] }}\n                    </p>\n                    <div class=\"noticeMsg\">\n                        <p class=\"nowTime\">\n                        {{ newNotice['create_time'] }}\n                        </p>\n                        <p class=\"nowPeop\">\n                            发布人：<span> {{ newNotice['username'] }} </span>\n                        </p>\n                    </div>\n                </div>\n            </div>\n\n            <div>\n                <van-divider\n                    :style=\"{ color: '#1989fa', borderColor: '#1989fa', padding: '0 16px' }\"\n                    >\n                    以往公告\n                </van-divider>\n            </div>\n\n            \n            \n                <div class=\"mainNoticeAll\">\n                        <van-list v-model=\"loading\"\n                    :finished=\"finished\"\n                    finished-text=\"到底啦\"\n                    @load=\"onLoad\">\n\n                        <div class=\"oldNotice\"\n                        v-for=\"(item, index) in noticeAll\" :key=\"index\"\n                        @click=\"cutNotice(item)\"\n                        >\n                            <van-cell-group inset>\n                                <van-cell \n                                :title=\"` ${noticeAll[index]['title']}`\"\n                                :label=\"`${noticeAll[index]['connent']}`\"\n                                >\n                                    <!-- <> {{ noticeAll[index]['connent'] }} </i> -->\n                                    <span class=\"userRelease\">\n                                        {{ noticeAll[index]['username'] }} 发布于\n                                    </span>\n                                    <span class=\"tineRelease\">\n                                        {{ noticeAll[index]['create_time'] }}\n                                    </span>\n                                </van-cell>\n                            </van-cell-group>\n                        </div>\n\n                     </van-list>\n\n\n                </div>\n\n\n        </div>\n\n\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'Notice',\n    data () {\n        return {\n            noticeAll: [],      //历史所有公告\n            newNotice: {},      //最新一条公告\n            finished: true,    //无限加载\n            loading: false,\n            listTotal: '',      //总条数\n        }\n    },\n    mounted () {\n        this.rander()\n    },\n\n    methods: {\n        //渲染\n        rander () {\n            this.Toast.loading({\n                message: \"\",\n                forbidClick: true,\n                duration: 10000\n            });\n            this.$axios.get({\n                url: 'notice/hisnot'\n            }).then(\n                res => {\n                  console.log(res);\n                    if (res.code == 0) {\n                        for (let x = 0; x < res.data.length; x++) {\n                            res.data[x]['create_time'] = this.timestampToTime(res.data[x]['create_time'])\n                        }\n                        this.listTotal = res.pagetotle;\n                        this.noticeAll = res.data;\n                        this.newNotice = this.noticeAll[0];\n                    } else {\n                        console.log(res.message)\n                    }\n                    this.finished = false\n                    this.Toast.clear();\n                }\n            )\n        },\n\n        //切换公告\n        cutNotice (data) {\n            this.newNotice = data\n        },\n\n        // 时间戳转换成时间\n        timestampToTime (time) {\n            let date = new Date(time) //时间戳为10位需*1000，时间戳为13位的话不需乘1000\n            let Y = date.getFullYear() + '-'\n            let M = (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1) + '-'\n            let D = (date.getDate() + 1 < 10 ? '0' + date.getDate() : date.getDate())\n            return Y + M + D\n        // console.log(timestampToTime (1533293827000))\n        },\n\n        //无限加载\n        onLoad() {\n\n            this.$axios.get({\n                url: 'notice/hisnot',\n                params: {\n                    page: this.noticeAll.length\n                }\n            }).then(\n                res => {\n                    if (res && res.code == 0) {\n                        this.loading = false;\n                        for (let x = 0; x < res.data.length; x++) {\n                            this.noticeAll.push(res.data[x])\n                        }\n                    // 数据全部加载完成\n                    } else {\n                        if (this.noticeAll.length >= this.listTotal) {\n                            this.finished = true;\n                        }\n                    }\n                }\n            )\n        },\n\n\n    },\n\n}\n</script>\n\n<style lang=\"less\" scoped>\n\n\n\n.notice {\n\n    padding-top: 7vh;\n\n    .main {\n        width: 100%;\n        height: auto;\n        .nowNotice {\n            // position: fixed;\n            margin: 2rem auto;\n            padding: 1rem;\n            overflow: hidden;\n            width: 70%;\n            min-height: 5rem;\n            border: 2px solid #676fe6;\n            border-radius: 0.8rem;\n            background-color: #fff;\n            .noticeTitle {\n                text-align: center;\n            }\n        }\n\n        .oldNotice {\n            margin: 1rem auto;\n            width: 100%;\n            height: auto;\n            overflow: hidden;\n        }\n\n        .mainNoticeAll {\n            width: 100%;\n            height: 30rem;\n            overflow-x: auto;\n        }\n    }\n}\n\n.nowNotice {\n    h4 {\n        margin-block-start: 0.8em;\n        margin-block-end: 0.8em;\n        margin-inline-start: 0px;\n        margin-inline-end: 0px;\n    }\n    .nowTime {\n        float: right;\n        margin-block-end: 0.8em;\n        margin-inline-start: 0px;\n        margin-inline-end: 0px;\n        font-size: 0.8rem;\n    }\n    .nowPeop {\n        float: left;\n        margin-block-start: 0.8em;\n        margin-block-end: 0.8em;\n        margin-inline-start: 0px;\n        margin-inline-end: 0px;\n        font-size: 0.8rem;\n    }\n    .noticeMsg {\n        width: 100%;\n        height: auto;\n    }\n}\n\n.oldNotice {\n    .userRelease {\n        display: block;\n    }\n\n    .van-cell__label {\n        display: block;\n        font-size: 0.8rem;\n        width: 80%;\n        color: #aaa;\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 1;\n        overflow: hidden;\n    }\n\n    // .tineRelease {\n\n    // }\n}\n\n.titlenotice {\n    height: 7vh;\n}\n\n\n/deep/ .van-icon-arrow-left {\n  color: #000;\n  font-size: 1rem;\n}\n\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Notice.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Notice.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Notice.vue?vue&type=template&id=09986899&scoped=true&\"\nimport script from \"./Notice.vue?vue&type=script&lang=js&\"\nexport * from \"./Notice.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Notice.vue?vue&type=style&index=0&id=09986899&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"09986899\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}