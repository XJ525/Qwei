{"version":3,"sources":["webpack:///./src/views/about/role/operation/AddRole.vue?3696","webpack:///./src/views/about/role/operation/AddRole.vue?c3a9","webpack:///src/views/about/role/operation/AddRole.vue","webpack:///./src/views/about/role/operation/AddRole.vue?deb5","webpack:///./src/views/about/role/operation/AddRole.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","onClickLeft","model","value","callback","$$v","expression","result","_l","item","index","key","pid","$event","toggle","scopedSlots","_u","fn","ref","refInFor","proxy","length","submits","_v","staticRenderFns","show","showtitle","list","checked","select","option","powerid","showcontent","showsub","radio","columns","showPicker","username","tel","values","showPickers","sexvalue","date","showtime","list_department_id","columns_role_id","role_id","power_obj","methods","$router","push","path","$refs","checkboxes","Toast","loading","message","forbidClick","$axios","component"],"mappings":"2GAAA,W,yCCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,cAAc,CAACE,YAAY,OAAOC,MAAM,CAAC,YAAY,KAAK,aAAa,GAAG,MAAQ,OAAO,OAAQ,GAAMC,GAAG,CAAC,aAAaR,EAAIS,eAAeL,EAAG,iBAAiB,CAACG,MAAM,CAAC,MAAQ,QAAQ,CAACH,EAAG,YAAY,CAACE,YAAY,WAAWC,MAAM,CAAC,MAAQ,MAAM,UAAY,IAAI,YAAc,UAAUG,MAAM,CAACC,MAAOX,EAAS,MAAEY,SAAS,SAAUC,GAAMb,EAAIW,MAAME,GAAKC,WAAW,YAAY,GAAGV,EAAG,qBAAqB,CAACM,MAAM,CAACC,MAAOX,EAAU,OAAEY,SAAS,SAAUC,GAAMb,EAAIe,OAAOF,GAAKC,WAAW,WAAW,CAACV,EAAG,iBAAiB,CAACG,MAAM,CAAC,MAAQ,SAASP,EAAIgB,GAAIhB,EAAU,QAAE,SAASiB,EAAKC,GAAO,OAAOd,EAAG,WAAW,CAACe,IAAIF,EAAKG,IAAId,YAAY,YAAYC,MAAM,CAAC,UAAY,GAAG,MAAS,IAAOU,EAAU,OAAIT,GAAG,CAAC,MAAQ,SAASa,GAAQ,OAAOrB,EAAIsB,OAAOJ,KAASK,YAAYvB,EAAIwB,GAAG,CAAC,CAACL,IAAI,aAAaM,GAAG,WAAW,MAAO,CAACrB,EAAG,eAAe,CAACsB,IAAI,aAAaC,UAAS,EAAKpB,MAAM,CAAC,KAAOU,EAAKG,SAASQ,OAAM,IAAO,MAAK,QAAU,IAAI,GAAyB,GAArB5B,EAAIe,OAAOc,QAA4B,IAAb7B,EAAIW,MAAaP,EAAG,aAAa,CAACE,YAAY,SAASC,MAAM,CAAC,KAAO,QAAQC,GAAG,CAAC,MAAQR,EAAI8B,UAAU,CAAC9B,EAAI+B,GAAG,QAAQ3B,EAAG,aAAa,CAACE,YAAY,SAASC,MAAM,CAAC,KAAO,OAAO,SAAW,KAAK,CAACP,EAAI+B,GAAG,SAAS,IAC/vCC,EAAkB,GC6CtB,GACE,OACE,MAAO,CACLC,KAAM,GACNC,UAAW,GACXnB,OAAQ,GACRoB,KAAM,GACNC,SAAS,EACTC,OAAQ,GACRC,OAAQ,GACRC,QAAS,GACTC,aAAa,EACbC,QAAS,GACTC,MAAO,GACP/B,MAAO,GACPgC,QAAS,GACTC,YAAY,EACZC,SAAU,GACVC,IAAK,GACLC,OAAQ,GACRC,aAAa,EACbC,SAAU,IACVC,KAAM,GACNC,UAAU,EACVC,mBAAoB,GACpBC,gBAAiB,GACjBC,QAAS,GACTC,UAAW,KAGfC,QAAS,CACP,cACEvD,KAAKwD,QAAQC,KAAK,CAChBC,KAAM,iBAGV,OAAJ,GACM1D,KAAK2D,MAAMC,WAAW3C,GAAOI,UAE/B,UAEErB,KAAKiC,UAAY,OACjBjC,KAAK6D,MAAMC,QAAQ,CACjBC,QAAS,SACTC,aAAa,IAGfhE,KAAKiE,OACX,MACQ,IAAR,YACQ,KAAR,CACU,SAAV,WACU,QAAV,+BAGA,SACA,aACU,KAAV,sBACU,KAAV,cACY,KAAZ,iBAGU,KAAV,uBAKE,UACEjE,KAAKiC,UAAY,OACjBjC,KAAKiE,OACT,KACM,IAAN,kBAEA,SACM,IAAN,KACA,qBACQ,EAAR,aACA,8BACY,EAAZ,UASM,QAAN,OACM,KAAN,SAEM,QAAN,WCxI8X,I,wBCQ1XC,EAAY,eACd,EACApE,EACAiC,GACA,EACA,KACA,WACA,MAIa,aAAAmC,E","file":"js/AddRole.1da1743c.js","sourcesContent":["export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddRole.vue?vue&type=style&index=0&id=1ed744a4&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"btn\"},[_c('van-nav-bar',{staticClass:\"head\",attrs:{\"left-text\":\"返回\",\"left-arrow\":\"\",\"title\":\"新建角色\",\"fixed\":true},on:{\"click-left\":_vm.onClickLeft}}),_c('van-cell-group',{attrs:{\"title\":\"角色名\"}},[_c('van-field',{staticClass:\"new_role\",attrs:{\"label\":\"角色名\",\"maxlength\":\"9\",\"placeholder\":\"请输入角色名\"},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1),_c('van-checkbox-group',{model:{value:(_vm.result),callback:function ($$v) {_vm.result=$$v},expression:\"result\"}},[_c('van-cell-group',{attrs:{\"title\":\"选择权限\"}},_vm._l((_vm.option),function(item,index){return _c('van-cell',{key:item.pid,staticClass:\"new_roles\",attrs:{\"clickable\":\"\",\"title\":(\" \" + (item.pname))},on:{\"click\":function($event){return _vm.toggle(index)}},scopedSlots:_vm._u([{key:\"right-icon\",fn:function(){return [_c('van-checkbox',{ref:\"checkboxes\",refInFor:true,attrs:{\"name\":item.pid}})]},proxy:true}],null,true)})}),1)],1),(_vm.result.length != 0 && _vm.value != '')?_c('van-button',{staticClass:\"submit\",attrs:{\"type\":\"info\"},on:{\"click\":_vm.submits}},[_vm._v(\"提交\")]):_c('van-button',{staticClass:\"submit\",attrs:{\"type\":\"info\",\"disabled\":\"\"}},[_vm._v(\"提交\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"btn\">\n    <van-nav-bar left-text=\"返回\"\n                 left-arrow\n                 title=\"新建角色\"\n                 class=\"head\"\n                 :fixed=\"true\"\n                 @click-left=\"onClickLeft\" />\n    <van-cell-group title=\"角色名\">\n      <van-field v-model=\"value\"\n                 class=\"new_role\"\n                 label=\"角色名\"\n                 maxlength=\"9\"\n                 placeholder=\"请输入角色名\" />\n    </van-cell-group>\n\n    <van-checkbox-group class=\"\"\n                        v-model=\"result\">\n      <van-cell-group title=\"选择权限\">\n        <van-cell v-for=\"(item, index) in option\"\n                  clickable\n                  class=\"new_roles\"\n                  :key=\"item.pid\"\n                  :title=\"` ${item.pname}`\"\n                  @click=\"toggle(index)\">\n          <template #right-icon>\n            <van-checkbox :name=\"item.pid\"\n                          ref=\"checkboxes\" />\n          </template>\n        </van-cell>\n      </van-cell-group>\n    </van-checkbox-group>\n\n    <van-button v-if=\"result.length != 0 && value != ''\"\n                @click=\"submits\"\n                type=\"info\"\n                class=\"submit\">提交</van-button>\n    <van-button v-else\n                type=\"info\"\n                class=\"submit\"\n                disabled>提交</van-button>\n    <!-- <p>已选择{{ result }}</p> -->\n  </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      show: \"\",\n      showtitle: \"\",\n      result: [],\n      list: [],\n      checked: true,\n      select: [],\n      option: \"\",\n      powerid: \"\",\n      showcontent: false,\n      showsub: \"\",\n      radio: \"\",\n      value: \"\",\n      columns: [],\n      showPicker: false,\n      username: \"\",\n      tel: \"\",\n      values: \"\",\n      showPickers: false,\n      sexvalue: \"1\",\n      date: \"\", //时间\n      showtime: false,\n      list_department_id: {},\n      columns_role_id: {},\n      role_id: \"\",\n      power_obj: {},\n    };\n  },\n  methods: {\n    onClickLeft () {\n      this.$router.push({\n        path: \"/about/role\",\n      });\n    },\n    toggle (index) {\n      this.$refs.checkboxes[index].toggle();\n    },\n    submits () {\n      // 新建角色\n      this.showtitle = \"新建角色\";\n      this.Toast.loading({\n        message: \"创建中...\",\n        forbidClick: true,\n      });\n      // console.log('result --------','[' + String(this.result) + ']')\n      this.$axios\n        .post({\n          url: \"/role/add\",\n          data: {\n            roleName: this.value,\n            roleids: \"[\" + String(this.result) + \"]\",\n          },\n        })\n        .then((res) => {\n          if (res.code == \"0\") {\n            this.Toast.success(\"创建成功\");\n            this.$router.push({\n              path: \"/about/role\",\n            });\n          } else {\n            this.Toast.fail(\"创建失败\");\n          }\n        });\n    },\n  },\n  mounted () {\n    this.showtitle = \"创建角色\";\n    this.$axios\n      .get({\n        url: \"/power/select\", //所有权限\n      })\n      .then((res) => {\n        let arr = []\n        if (res && Array.isArray(res)) {\n          res.forEach(item => {\n            if(item.parent_id >= 0 || item.pid == '-1') {\n              arr.push(item);\n              //  this.option = res;\n            }\n           \n\n\n          });\n\n        }\n        console.log(res);\n            this.option = arr;\n\n        console.log(res);\n      });\n  },\n};\n</script>\n\n\n<style lang=\"less\" scoped>\n.btn {\n  padding-top: 5vh;\n  padding-bottom: 5vh;\n}\n\n/deep/ .submit {\n  //提交按钮\n  margin: 1rem auto;\n  display: block;\n  width: 95%;\n  border-radius: 4rem;\n  font-size: 1rem;\n}\n\n/deep/ .van-icon-arrow-left {\n  color: #000;\n  font-size: 1rem;\n}\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddRole.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddRole.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddRole.vue?vue&type=template&id=1ed744a4&scoped=true&\"\nimport script from \"./AddRole.vue?vue&type=script&lang=js&\"\nexport * from \"./AddRole.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddRole.vue?vue&type=style&index=0&id=1ed744a4&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1ed744a4\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}