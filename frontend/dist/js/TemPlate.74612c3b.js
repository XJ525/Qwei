(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["TemPlate"],{"7c6e":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("van-nav-bar",{staticClass:"head",attrs:{title:t.show.title,"left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}}),a("div",{staticClass:"content"},[a("van-cell-group",t._l(t.show.parameter,(function(s,e){return a("van-field",{key:e,staticClass:"inps",attrs:{label:s,placeholder:"请输入"+s},model:{value:t.show.val[e],callback:function(s){t.$set(t.show.val,e,s)},expression:"show.val[index]"}})})),1),""!=t.show.btn&&t.blogList[t.$route.params.id-1].parameter.length==t.show.val.length&&0!=t.show.val.length&&t.show.val.indexOf("")<0?a("van-button",{staticClass:"btns",attrs:{type:"info"},on:{click:t.commit}},[t._v(t._s(t.show.btn))]):""!=t.show.btn?a("van-button",{staticClass:"btns",attrs:{type:"info",disabled:""},on:{click:t.commit}},[t._v(t._s(t.show.btn))]):t._e(),a("van-popup",{attrs:{round:""},model:{value:t.reveal,callback:function(s){t.reveal=s},expression:"reveal"}},[a("div",{staticClass:"con"},[t._v(" 查询结果： "+t._s(t.msg)+" ")])])],1)],1)},i=[],o={data(){return{blogList:[{id:"1",title:"新建权限",parameter:["权限名称","权限C/A"],val:[],btn:"创建权限"},{id:"2",title:"查询权限",parameter:["权限id"],val:[],btn:"查询"},{id:"3",title:"更新权限",parameter:["权限ID","权限名称","权限url","父级url"],val:[],btn:"更新权限"}],show:{id:"",title:"",parameter:[],val:[],btn:""},reveal:!1,msg:""}},methods:{onClickLeft(){this.$router.push({path:"/about"})},commit(){switch(this.show.id){case"1":this.$axios.post({url:"/power/add",data:{pname:this.show.val[0],purl:this.show.val[1]}}).then(t=>{"0"==t.code?(this.Toast.success("添加成功"),this.$router.push({path:"/about"})):"-8"==t.code?this.Toast.fail("权限名或c/a已经存在"):this.Toast.fail("添加失败")});break;case"2":this.$axios.post({url:"/power/find",data:{pid:this.show.val[0]}}).then(t=>{this.msg=t.pname,this.reveal=!0,console.log(t)});break;case"3":this.$axios.post({url:"/power/update",data:{pid:this.show.val[0],pname:this.show.val[1],purl:this.show.val[2],parentid:this.show.val[3]}}).then(t=>{"0"==t.code?(this.Toast.success("更新成功"),this.$router.push({path:"/about"})):this.Toast.fail("更新失败，请重试")});break;default:console.log(2222222222)}}},mounted(){switch(this.$route.params.id){case"1":this.show=this.blogList[0];break;case"2":this.show=this.blogList[1];break;case"3":this.show=this.blogList[2];break}}},l=o,n=(a("bcf2"),a("2877")),h=Object(n["a"])(l,e,i,!1,null,"6970e699",null);s["default"]=h.exports},bcf2:function(t,s,a){"use strict";a("e2f9")},e2f9:function(t,s,a){}}]);
//# sourceMappingURL=TemPlate.74612c3b.js.map