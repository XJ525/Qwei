{"version":3,"sources":["webpack:///./src/views/process/Detailsapproval.vue?6511","webpack:///./src/views/process/Detailsapproval.vue?5d44","webpack:///src/views/process/Detailsapproval.vue","webpack:///./src/views/process/Detailsapproval.vue?6cc6","webpack:///./src/views/process/Detailsapproval.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","backOn","data","_v","_s","username","apply_time","style","fontSize","model","value","callback","$$v","type","expression","starttime","endtime","statu","text","$event","opinion","leave_id","_e","staticRenderFns","component"],"mappings":"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","file":"js/Detailsapproval.4232dcf6.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detailsapproval.vue?vue&type=style&index=0&id=498f5662&scoped=true&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detInfo\"},[_c('div',{staticClass:\"head\"},[_c('van-nav-bar',{staticClass:\"leavedfail\",attrs:{\"title\":\"请假详情\",\"fixed\":\"\",\"left-text\":\"返回\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.backOn}})],1),_c('div',{staticClass:\"messageConters\"},[_c('div',{staticClass:\"img\"},[_c('i',[_c('img',{attrs:{\"src\":_vm.data['user_head_url'],\"alt\":\"\",\"v-lazy\":_vm.data['user_head_url']}})])]),_c('div',{staticClass:\"conter\"},[_c('div',{staticClass:\"conterLeft\"},[_c('p',[_c('span',{staticClass:\"usernameStyle\"},[_vm._v(\" \"+_vm._s(_vm.data.username)+\" \")])]),_c('p',{staticClass:\"messageEnd\"},[_c('span',{staticClass:\"messagetime\"},[_vm._v(\" \"+_vm._s(_vm.data.apply_time)+\" \")])])])])]),_c('div',{staticClass:\"mainConter\"},[_c('van-field',{style:({ fontSize:'1rem'}),attrs:{\"label\":\"请假类型\",\"readonly\":\"\"},model:{value:(_vm.type),callback:function ($$v) {_vm.type=$$v},expression:\"type\"}}),_c('van-field',{style:({fontSize:'1rem'}),attrs:{\"type\":\"text\",\"label\":\"开始时间\",\"readonly\":\"\"},model:{value:(_vm.starttime),callback:function ($$v) {_vm.starttime=$$v},expression:\"starttime\"}}),_c('van-field',{style:({ fontSize:'1rem'}),attrs:{\"type\":\"text\",\"label\":\"结束时间\",\"readonly\":\"\"},model:{value:(_vm.endtime),callback:function ($$v) {_vm.endtime=$$v},expression:\"endtime\"}}),_c('van-field',{style:({ fontSize:'1rem'}),attrs:{\"type\":\"text\",\"label\":\"审核状况\",\"readonly\":\"\"},model:{value:(_vm.statu),callback:function ($$v) {_vm.statu=$$v},expression:\"statu\"}}),_c('van-field',{style:({ fontSize:'1rem'}),attrs:{\"type\":\"textarea\",\"label\":\"请假事由\",\"readonly\":\"\",\"autosize\":\"\",\"rows\":\"1\"},model:{value:(_vm.text),callback:function ($$v) {_vm.text=$$v},expression:\"text\"}})],1),(_vm.statu == '未审核' )?_c('div',[_c('van-button',{staticClass:\"btn\",attrs:{\"type\":\"info\",\"block\":\"\"},on:{\"click\":function($event){return _vm.opinion( _vm.data.leave_id ,1)}}},[_vm._v(\"同意\")]),_c('van-button',{staticClass:\"btn\",attrs:{\"type\":\"info\",\"block\":\"\"},on:{\"click\":function($event){return _vm.opinion( _vm.data.leave_id ,2)}}},[_vm._v(\"拒绝\")])],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"detInfo\">\n       \n        <div class=\"head\">\n            <van-nav-bar title=\"请假详情\" fixed class=\"leavedfail\" left-text=\"返回\" @click-left=\"backOn\" left-arrow>\n            </van-nav-bar>\n        </div>\n\n\n            <div class=\"messageConters\">\n            \n                <div class=\"img\">\n                    <i>\n                        <img :src=\"data['user_head_url']\" alt=\"\" :v-lazy=\"data['user_head_url']\">\n                    </i>\n                </div>\n\n                <div class=\"conter\">\n                    <div class=\"conterLeft\">\n                        <p>\n                            <span class=\"usernameStyle\"> {{ data.username }} </span>  \n                        </p>\n                        <p class=\"messageEnd\">\n                            <span class=\"messagetime\"> {{ data.apply_time }} </span>\n                        </p>\n                    \n                    </div>\n                </div>\n            </div>\n\n          \n\n            <div class=\"mainConter\">\n\n                <van-field v-model=\"type\" label=\"请假类型\" :style=\"{ fontSize:'1rem'}\" readonly />\n               \n                <van-field v-model=\"starttime\" type=\"text\" label=\"开始时间\" :style=\"{fontSize:'1rem'}\"  readonly />\n              \n                <van-field v-model=\"endtime\" type=\"text\" label=\"结束时间\" :style=\"{ fontSize:'1rem'}\"  readonly />\n               \n                <van-field v-model=\"statu\" type=\"text\" label=\"审核状况\"  :style=\"{ fontSize:'1rem'}\" readonly />\n\n                <van-field v-model=\"text\" type=\"textarea\" label=\"请假事由\" :style=\"{ fontSize:'1rem'}\"  readonly  autosize rows=\"1\" />\n            </div> \n\n     \n\n            <div v-if=\"statu == '未审核' \">\n                <van-button type=\"info\" block class=\"btn\" @click=\"opinion( data.leave_id ,1)\">同意</van-button>\n                \n                <van-button type=\"info\" block class=\"btn\" @click=\"opinion( data.leave_id ,2)\">拒绝</van-button>\n            </div>\n    </div>\n\n</template>\n\n\n<script>\nexport default {\n    name: 'Detailsapproval',\n    data () {\n        return {\n            data:'',\n            type:'',\n            starttime:'',\n            endtime:'',\n            text:'',\n            statu:'',\n        }\n    },\n\n    mounted () {\n        // this.getMessageDet(this.$route.query.data);\n        \n\n         //当事人信息\n        // this.data = JSON.parse(this.$route.query.data);\n        this.data = JSON.parse(localStorage.getItem('data'));\n        localStorage.removeItem('data');\n        console.log(this.data)  \n       \n        //开始时间\n        this.data.start_time = this.timestampToTime(this.data.start_time); \n        //结束时间\n        this.data.end_time = this.timestampToTime(this.data.end_time);\n\n        this.type = this.data.apply_type;\n        this.starttime = this.data.start_time;\n        this.endtime = this.data.end_time;\n        this.text = this.data.leave_reason;\n        \n        if (this.data.audit_state == 0) {\n            this.statu = '未审核';\n        } else if (this.data.audit_state == 1) {\n            this.statu = '通过';\n        } else if (this.data.audit_state == 2) {\n            this.statu = '未通过';\n        }\n        \n\n    },\n\n    methods: {\n\n        timestampToTime (time) {\n            let date = new Date(time) //时间戳为10位需*1000，时间戳为13位的话不需乘1000\n            let Y = date.getFullYear() + '-'\n            let M = (date.getMonth()+1 < 10 ? '0'+(date.getMonth()+1) : date.getMonth()+1) + '-'\n            let D = (date.getDate()+1 < 10 ? '0'+ date.getDate() : date.getDate()) + ' '\n           \n            return Y+M+D\n            // console.log(timestampToTime (1533293827000))\n        },\n\n        backOn() {\n            this.$router.push('/allapproval')\n        },\n\n        opinion(name, val) {\n            // console.log(name,val)\n\n            this.$axios.post({\n                url:'/leave/agreeleave',\n                data:{\n                    leaveid:name,\n                    state:val\n                }\n            }).then(\n                res => {\n                    if (res && res.code == 0) {\n                        this.$toast(\"审核完毕\")\n                        this.$router.push({\n                            path:'/allapproval'\n                        })\n                    } else {\n                        this.$toast(\"审核完毕\")\n                        this.$router.push({\n                            path:'/allapproval'\n                        })\n                    }\n                }\n            )\n        }\n    }\n\n}\n</script>\n\n<style scoped lang=\"less\">\n\n.leavedfail {\n    height: 7vh;\n}\n\n.detInfo {\n    width: 100%;\n    padding-top: 7vh;\n    min-height: 100vh;\n    background-color: #f8f9fa;\n\n    .messageNull {\n        margin: 3rem auto;\n        width: 80%;\n        text-align: center;\n        color: #787887;\n    }\n}\n\n\n.messageConters {\n        width: 90%;\n        height: auto;\n        display: flex;\n        align-content: stretch;\n        background-color: #fff;\n        border-radius: 5px;\n        margin:1vh auto;\n\n        .img {\n            flex: 2;\n            background-color: #fff;\n            border-radius: 5px;\n            i {\n                display: block;\n                width: 3rem;\n                height: 3rem;\n                border-radius: 3rem;\n                overflow: hidden;\n                background-size: 3rem 3rem;\n                border:none;\n                margin:calc((100% - 1rem) / 2) auto;\n                img {\n                    width:3rem;\n                    height:3rem;\n                }\n            }\n        }\n        .conter {\n            flex: 8;\n            .partConter {\n                font-size: 0.8rem;\n                color: #aaa\n            }\n\n            p {\n                margin: 0.4rem 5px;\n            }\n        }\n\n        .usernameStyle {\n            display: block;\n            padding-left:1.5rem;\n            padding-top: 1rem;\n            float: left;\n            font-size: 1.1rem;\n            font-weight: bold;\n        }\n\n        .messagetime {\n            display: block;\n            float: left;\n            padding-left: 1.5rem;\n            padding-top: 0.2rem;\n            font-size: 0.8rem;\n            color: #aaa;\n        }\n\n        .messageEnd {\n            padding-top: 0.3rem;\n            clear: both;\n            font-size: 0.9rem;\n            color: #999;\n        }\n\n    }\n\n    .mainConter {\n        width: 90%;\n        margin: 0.2rem auto;\n        // margin-top: 2rem;\n        // margin-left: 1.2rem;\n        font-size: 1rem;\n    }\n\n    .hrStyle {\n        width: 99%;\n        background-color: #fff;\n        opacity: 0.5;\n    }\n\n    .btn{\n        width: 90%;\n        margin:2vh auto;\n        border-radius: 4vh;\n        font-size: 1rem;\n        background-color: #1989fa;\n        border:none;\n    }\n/deep/ .van-icon-arrow-left {\n    color:#000;\n    font-size:1rem;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detailsapproval.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detailsapproval.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Detailsapproval.vue?vue&type=template&id=498f5662&scoped=true&\"\nimport script from \"./Detailsapproval.vue?vue&type=script&lang=js&\"\nexport * from \"./Detailsapproval.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Detailsapproval.vue?vue&type=style&index=0&id=498f5662&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"498f5662\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}